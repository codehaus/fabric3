<?xml version="1.0" encoding="ASCII"?>
<!--
 Fabric3
 Copyright (c) 2009 Metaform Systems

Fabric3 is licensed under modified terms of the GNU General
Public License. see the accompanying license file for details.
-->
<definitions
        xmlns="http://docs.oasis-open.org/ns/opencsa/sca/200903"
        xmlns:sca="http://docs.oasis-open.org/ns/opencsa/sca/200903"
        targetNamespace="urn:fabric3.org:policy"
        xmlns:f3-policy="urn:fabric3.org:policy"
        xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
        xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">

    <intent name="transactional" constrains="binding">
        <description>Transactional intent</description>
    </intent>

    <policySet name="transactionalPolicy" appliesTo="sca:binding.ws" provides="f3-policy:transactional">
        <f3-policy:interceptor class="FooInterceptor"/>
    </policySet>

    <policySet name="testServerPolicy" provides="sca:authentication.message" appliesTo="fabric3://domain/EchoService#Axis2EchoService">
        <wsp:Policy>
            <sp:UsernameToken>
                <wsp:Policy>
                    <sp:WssUsernameToken11/>
                </wsp:Policy>
            </sp:UsernameToken>
        </wsp:Policy>
    </policySet>

    <policySet name="testClientPolicy" provides="sca:authentication.message" appliesTo="fabric3://domain/EchoTest#service">
        <wsp:Policy>
            <sp:UsernameToken>
                <wsp:Policy>
                    <sp:WssUsernameToken11/>
                </wsp:Policy>
            </sp:UsernameToken>
        </wsp:Policy>
    </policySet>

</definitions>