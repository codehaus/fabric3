<?xml version="1.0" encoding="ASCII"?>
<definitions 
    xmlns="http://www.osoa.org/xmlns/sca/1.0" 
    targetNamespace="http://fabric3.org/xmlns/sca/2.0-alpha" 
    xmlns:f3="http://fabric3.org/xmlns/sca/2.0-alpha">

    <!-- Realized by the managedTransactionPolicy -->
    <intent name="managedTransaction" constrains="implementation">
        <description>
            Used to indicate a component runs in a managed transaction.
        </description>
    </intent>

    <!-- Realized by the propagatesTransactionPolicy -->
    <intent name="propagatesTransaction" constrains="binding">
        <description>
            Used to indicate a service or reference propogates the transaction
        </description>
    </intent> 

    <!-- Realized by the suspendsTransactionPolicy -->
    <intent name="suspendsTransaction" constrains="binding">
        <description>
            Used to indicate a service or reference suspends the transaction
        </description>
    </intent>

    <!-- Needs to be implemented by the binding type --> 
    <intent name="transactedOneWay" constrains="binding">
        <description>
            Indicates the reference will include one way invocation in the 
            transaction or include message receipt on a service in a transaction.
        </description>
    </intent> 

    <!-- Needs to be implemented by the binding type --> 
    <intent name="transactedOneWay.global" constrains="binding">
        <description>
            Qualifies transactedOneWay to use global transactions.
        </description>
    </intent>

    <!-- Needs to be implemented by the binding type --> 
    <intent name="transactedOneWay.local" constrains="binding">
        <description>
            Qualifies transactedOneWay to use local transactions.
        </description>
    </intent>
    
    <!-- Begins a transaction if one not already in progress and commits it -->
    <policySet name="managedTransactionPolicy" provides="f3:managedTransaction">
        <f3:transaction action="BEGIN"/>
    </policySet> 
    
    <!-- Suspends the transaction if one already in progress and resumes it -->
    <policySet name="suspendsTransactionPolicy" provides="f3:suspendsTransaction">
        <f3:transaction action="SUSPEND"/>
    </policySet>
    
    <!-- No op -->
    <policySet name="propagatesTransactionPolicy" provides="f3:propagatesTransaction">
        <f3:transaction action="PROPOGATE"/>
    </policySet>

</definitions>